<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        $(document).ready(function() {
            var apiId = "5264779432aa5523b400895723caa06e"; // weather api key : openweathermap.org
            
            // Definir la ubicación predefinida para Salento, Quindío
            var lat = 4.6375;
            var lon = -75.5703;
            
            var cityName = "Salento";
            var country = "CO";
            
            // Openweathermap.com API URL utilizando la ubicación predefinida
            var apiUrl = "https://api.openweathermap.org/data/2.5/weather?lat=" + lat + "&lon=" + lon + "&appid=" + apiId;
            
            // Obtener información meteorológica de la API de openweathermap.org
            $.getJSON(apiUrl, function(w) {
                var wId = w.weather[0].id;
                var wType = w.weather[0].main; // Tipo de clima
                var temp = w.main.temp; // Temperatura en unidad Kelvin
                var wIconId = w.weather[0].icon;
                var celsius = temp - 273.15;
                var isCelsius = true;
                var windSpeed = w.wind.speed; // Velocidad del viento
                var wIconUrl = "http://openweathermap.org/img/w/" + wIconId + ".png";
                var imageLink = {
                    thunderStorm: "url(http://extrawall.net/images/wallpapers/529_1920x1080_thunderstorm_over_grand_canyon.jpg)",
                    drizzle: "url(https://www.gloucestercitizen.co.uk/images/localworld/ugc-images/276271/Article/images/21342065/6290248-large.jpg)",
                    rain: "url(http://runlifthavefun.com/wp-content/uploads/2014/11/A-Rainy-Day.jpg)",
                    snow: "url(https://iskin.co.uk/wallpapers/styles/1920x1080/public/snow_drifts.jpg)",
                    clear: "url(http://xdesktopwallpapers.com/wp-content/uploads/2011/05/Clear-Sky-in-a-sunny-day.jpg)",
                    cloud: "url(https://rutaeje.com/wp-content/uploads/2024/02/Diseno-sin-titulo-_2_-2.webp)",
                    mist: "url(http://static5.businessinsider.com/image/5390bbeb6bb3f7407d6ba579/why-different-weather-apps-give-you-different-forecasts.jpg)",
                }
                var weatherImage = "";
                
                function selectWImage(weatherId) {
                    if (weatherId >= 200 && weatherId < 300) weatherImage = imageLink.thunderStorm;
                    else if (weatherId >= 300 && weatherId < 400) weatherImage = imageLink.drizzle;
                    else if (weatherId >= 500 && weatherId < 600) weatherImage = imageLink.rain;
                    else if (weatherId >= 600 && weatherId < 800) weatherImage = imageLink.snow;
                    else if (weatherId === 800) weatherImage = imageLink.clear;
                    else if (weatherId > 800 && weatherId < 900) weatherImage = imageLink.cloud;
                    else weatherImage = imageLink.mist;
                }
                selectWImage(wId);
                var cssProp = "background";
                var cssValue = weatherImage + "no-repeat fixed";
                $("html").css(cssProp, cssValue);
                $("html").css("background-size", "cover");
                $(".weather-info img").attr("src", wIconUrl);      
                $("#temp span").html(celsius.toFixed(1)  + " &#8451");
                $("#weather-type").html(wType);
                $("#wind-speed").html(windSpeed + " m/s");
                $("#location").html(cityName + ", " + country);
                $(".weather").addClass('animated zoomIn');
                
                function sCelsius() {
                    $("#temp span").html(celsius.toFixed(1) + " &#8451");
                    isCelsius = true;
                }
                
                function sFarenheit() {
                    var f = celsius * 9 / 5 + 32;
                    $("#temp span").html(Math.floor(f) + " &#8457");
                    isCelsius = false;
                }
                $("#temp span").click(function() {
                    (isCelsius) ? sFarenheit(): sCelsius();
                });
                
            });
        });
    </script>
    <style>
       
        @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&display=swap');

        html {
            background: #ddd;
            height: 100%;
            width: 100%;
            background-size: cover;
            font-family: "Outfit", sans-serif;
        }
        
        body {
            background: none;
        }
        
        h1,
        .weather-info,
        .location,
        .temp {
            text-align: center;
        }
        
        h1 {
            width: 500px;
            margin: 50px auto 0;
            background: gray;
            padding: 5px;
            border-radius: 5px;
            opacity: 0.6;
            color: #000;
            font-family: amatic sc;
            text-shadow: 5px 3px 5px black;
        }
        
        .weather {
            color: #000;
            max-width: 500px;
            height: auto;
            margin: 30px auto;
            background: #ccc;
            border-radius: 4px;
            opacity: 0.4;
            padding: 50px;
        }
        
        .temp {
            font-size: 600%;
            -webkit-user-select: none;
            user-select: none;
            margin: 30px;
        }
        
        .temp span {
            cursor: pointer;
        }
        
        .weather-info {
            margin: 30px;
            font-size: 200%;
            color: #000;
        }
        
        .location {
            font-size: 350%;
            margin: 50px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        
        <div class="weather">
            <div id="temp" class="temp"><span></span></div>
            <div class="weather-info">
                <span id="weather-type"></span>
                <img src="" alt=" --->>> Weather Info <<<---">
                <span id="wind-speed"></span>
            </div>
            <div id="location" class="location"></div>
        </div>
    </div>
</body>
</html>
